# YouTube Live Chat Username Enhancer

YouTubeのライブチャットで、ユーザー名の表示形式を自由に切り替えられるChrome拡張機能です。

> **Note**: このプロジェクトのコードはAI(Claude)によって生成されました。

## 機能

この拡張機能を使うと、YouTubeライブチャットでの名前の表示方法を以下の3つから選べます：

1. **両方表示（デフォルト）**: `名前(ハンドル)`の形式で表示
   - 例: `田中太郎(@tanaka_taro)`

2. **名前のみ**: チャンネル名だけを表示
   - 例: `田中太郎`

3. **ハンドルのみ**: ハンドルIDだけを表示
   - 例: `@tanaka_taro`

## インストール方法

### 開発者モードでのインストール

1. Chromeブラウザーで`chrome://extensions/`を開く
2. 右上の「デベロッパーモード」をONにする
3. 「パッケージ化されていない拡張機能を読み込む」をクリック
4. このフォルダーを選択

## 使い方

### 1. 基本的な使い方

拡張機能をインストールすると、YouTubeのライブチャットで自動的に動作します。デフォルトでは「両方表示」モードで、チャンネル名とハンドルIDの両方が表示されます。

### 2. 表示モードの変更方法

1. Chromeのツールバーにある拡張機能アイコンをクリック
2. ポップアップで表示モードを選択：
   - **両方表示 (名前 (ハンドル))**: チャンネル名とハンドルの両方
   - **名前のみ**: チャンネル名だけ
   - **ハンドルのみ**: ハンドルだけ
3. 選択すると即座に設定が保存され、チャット画面に反映されます

### 3. 設定の保存

- 設定は自動的に保存されます
- Chromeにログインしている場合、設定は同期されます
- 次回YouTubeを開いた際も、前回の設定が適用されます

## 動作確認

1. YouTubeでライブ配信を開く
2. チャット欄を確認
3. ユーザー名の表示形式を確認
4. 拡張機能アイコンから設定を変更
5. チャットの表示が即座に更新されることを確認

## 技術仕様

### 使用技術

- **Manifest V3**: 最新のChrome拡張機能の仕様
- **Content Scripts**: YouTubeページにJavaScriptを注入
- **Chrome Storage API**: 設定の保存と同期
- **Message Passing**: ポップアップとコンテンツスクリプト間の通信

### ファイル構成

```
.
├── manifest.json       # 拡張機能の設定ファイル
├── content.js          # YouTube ページに注入されるスクリプト
├── inject.js           # チャット処理のメインロジック
├── popup.html          # 設定画面の HTML
├── popup.js            # 設定画面のロジック
├── popup.css           # 設定画面のスタイル
├── icons/              # アイコンファイル用フォルダ
│   └── README.md       # アイコン追加方法の説明
└── README.md           # このファイル
```

## 仕組み

1. **データ取得**: YouTube RSSフィードからチャンネル情報を取得
2. **キャッシュ**: 取得した情報をメモリにキャッシュし、同じユーザーの情報は再利用
3. **リアルタイム更新**: チャットに新しいメッセージが表示されると自動的に処理
4. **設定同期**: ポップアップで変更した設定を全タブに即座に反映

## トラブルシューティング

### チャットに変更が反映されない

1. ページをリロードしてみる
2. 拡張機能を無効化して再度有効化
3. Chromeの拡張機能ページで「再読み込み」をクリック

### 設定が保存されない

1. Chromeが最新版か確認
2. Chromeに正常にログインしているか確認
3. ストレージの容量を確認

### コンソールでエラーを確認

1. YouTubeのページでF12キーを押す
2. Consoleタブを開く
3. `[YT Handle Enhancer]`で始まるメッセージを確認

## 開発者向け情報

### デバッグモード

コンソールログが詳細に出力されます：

```javascript
console.log('[YT Handle Enhancer] ...');
```

### カスタマイズ

`inject.js`の`updateAuthorName`関数を編集することで、表示フォーマットをカスタマイズできます。

### 機能追加のアイデア

- フォントサイズの調整
- カラーテーマの変更
- フィルター機能（特定のユーザーのみ表示など）
- エクスポート/インポート機能

## ライセンス

このプロジェクトは自由に使用・改変できます。

## 更新履歴

### v1.0(2025-12-03)
- 初回リリース
- 3つの表示モード実装
- ポップアップ設定画面追加
- Chrome Storage APIによる設定保存
- リアルタイムでの表示切り替え

## リリース方法

このプロジェクトはGitHub Actionsで自動リリースに対応しています。

### 新しいバージョンをリリースする手順

1. コードの変更をコミット
2. バージョンタグを作成してプッシュ：
   ```bash
   git tag v1.1.0
   git push origin v1.1.0
   ```
3. GitHub Actionsが自動的に：
   - manifest.jsonのバージョンを更新
   - ZIPファイルを作成
   - GitHubリリースを作成
   - ZIPファイルをリリースに添付

### リリースの確認

GitHubのReleasesページで自動生成されたリリースを確認できます。ユーザーはそこからZIPファイルをダウンロードしてインストールできます。

## 貢献

バグ報告や機能要望はIssueで受け付けています。プルリクエストも歓迎します。

## お問い合わせ

問題が発生した場合は、以下の情報を添えて報告してください：

1. Chromeのバージョン
2. 発生した問題の詳細
3. コンソールのエラーメッセージ（あれば）
4. 再現手順
